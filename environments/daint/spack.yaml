spack:
  view: false
  concretization: separately
  specs:
  - matrix:
    - - target=haswell
    - - cuda
      - gromacs +cuda +lapack +blas +mpi
      - julia ^llvm ~clang ~compiler-rt ~libcxx ~lld ~lldb ~polly ^libgit2 ~mmap
      - llvm +clang +compiler-rt +cuda +libcxx +lld +lldb +omp_as_runtime +polly targets=amdgpu,bpf,nvptx
      - pika +cuda
      - sirius +cuda
  packages:
    all:
      variants: [cuda_arch=60]
      providers:
        mpi: [cray-mpich]
  'compilers:':
  - compiler:
      spec: gcc@11.2.0
      paths:
        cc: /opt/gcc/11.2.0/bin/gcc
        cxx: /opt/gcc/11.2.0/bin/g++
        f77: /opt/gcc/11.2.0/bin/gfortran
        fc: /opt/gcc/11.2.0/bin/gfortran
      flags: {}
      operating_system: sles15
      target: x86_64
      modules: []
      environment: {}
      extra_rpaths: []
  - compiler:
      spec: gcc@10.3.0
      paths:
        cc: /opt/gcc/10.3.0/bin/gcc
        cxx: /opt/gcc/10.3.0/bin/g++
        f77: /opt/gcc/10.3.0/bin/gfortran
        fc: /opt/gcc/10.3.0/bin/gfortran
      flags: {}
      operating_system: sles15
      target: x86_64
      modules: []
      environment: {}
      extra_rpaths: []
